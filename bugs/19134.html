<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bug 19134 - Code::Blocks History</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li class="active"><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Bug #19134 <small>2013-09-29 18:17</small></h3>
          <h4>zopper</h4>
          <p class="lead">(C/C++ lang) Crash on some characters in "#if " macro</p>
          <p>When in a C/C++ file macro #if is created, then typing some characters in its expression (currently it seems to be any non-ascii) cause a crash with an error message in terminal:</p>
          <p>codeblocks: ./src/scintilla/lexlib/CharacterSet.h:83: bool CharacterSet::Contains(int) const: Expectation val &gt;= 0 failed.</p>
          <p>It is not important if the character is typed, pasted from clipboard, if it is or isn't the first character right after the #if.</p>
          <p>Other macros don't seems to be affected by this bug. At least all I have tried.</p>
          <p>I found this error when I mistyped. Usually it should not be a big problem (who use non-ascii chars in macros) but it can be done by mistake and cause lost of all unsaved work.</p>
          <p>Steps to reproduce:</p>
          <p>1. Create a C file</p>
          <p>2. Create a #if macro</p>
          <p>3. On the same line, type or paste any non-ascii character, for example: , &amp;#269;, or open Wikipedia and copy something from "languages" column</p>
          <p>(4. Have a wish :-) )</p>
          <p>Version: Release 12.11  rev 8629 (2012-11-28 11:40:31)   gcc 4.8.1 Linux/unicode - 64 bit</p>
          <p>Currently I cannot test it on Windows to see if it is affected also.</p>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Application::Crash</dd>
            <dt>Group</dt><dd>Platform:Linux</dd>
            <dt>Status</dt><dd>Open</dd>
            <dt>Close date</dt><dd>&nbsp;</dd>
            <dt>Assigned to</dt><dd>tpetrov</dd>
          </dl>
        </div>
      </div>
      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">tpetrov 2013-10-01 23:42</div>
        <div class="panel-body">
          <p>Please test latest trunk code also test latest version of Scite or any other scintilll based editor if it exhibits the same problem. If it does report it to the scintilla's maintainers.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">tpetrov 2013-10-04 21:34</div>
        <div class="panel-body">
          <p>By the way this doesn't happen on Gentoo 64bit, rev 9378.</p>
          <p>Can you try newer build?</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
