<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bug 11462 - Code::Blocks History</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li class="active"><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Bug #11462 <small>2007-06-26 23:04:29</small></h3>
          <h4>rickg22</h4>
          <p class="lead">Opening large files (~4MB) freezes CB for 4 secs</p>
          <p>Bug is caused by the parsing of the source file for functions in the code completion toolbar.</p>
          <p>It doesn't matter if it's a CPP file or not, it parses the files anyway. (Note: For some languages like VB or PHP the behavior is good, but the slowdown remains).</p>
          <p>The slowdown is caused by the parser parsing the file in the main thread. The parser model needs to be updated to use only the specified filetypes, to skip files bigger than a certain threshold, and to parse in the background, either with events or threads.</p>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Plugin::CodeCompletion</dd>
            <dt>Group</dt><dd>&nbsp;</dd>
            <dt>Status</dt><dd>Closed</dd>
            <dt>Close date</dt><dd>2010-10-16 01:35:27</dd>
            <dt>Assigned to</dt><dd>loaden</dd>
          </dl>
        </div>
      </div>
      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">mandrav 2007-06-28 09:34:03</div>
        <div class="panel-body">
          <p>I wouldn't be so certain that the code-completion parser is the culrpit here. Have you done any measurements that prove this?</p>
          <p>I would also check other parts of the file loading process, like encoding detection. It's not optimized yet and may slow down file loading a lot in certain cases...</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">rickg22 2007-06-28 13:49:15</div>
        <div class="panel-body">
          <p>I checked with CC enabled and with CC disabled. I used a 4MB PHP file with various functions declared. I copied and pasted several times to get around 40,000 lines of code, saved, closed, then opened. The file doesn't belong to any project.</p>
          <p>With CC disabled, the delay is around 1 sec. With CC enabled, it's much more. The screen doesn't update and if you move the window it goes all white, until the parsing has been done.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">loaden 2010-10-16 01:35:27</div>
        <div class="panel-body">
          <p>This bug has been already fixed in HEAD.</p>
          <p>Thank you.</p>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>