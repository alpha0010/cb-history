<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bug 10502 - Code::Blocks History</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li class="active"><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Bug #10502 <small>2007-02-27 12:34</small></h3>
          <h4>stardust</h4>
          <p class="lead">Crash while debugging a minimal console C prog</p>
          <pre class="pre-scrollable">wx2.6.1
svn 3633 (SuSE 10.0 build with --enable-contrib)
linux 2.6.13-15-default

With the c::b project wizard I generated a new console C project. The source is as generated by the wizard ( a printf "Hallo World" and a return).

I then set breakpoint(s) and debugged the small application. I also played around with the breakpoints (tried if c::b will complain if I set a break in a source line that contains no code like #include).

Beside c::b I am also using other Linux programs like mail cleants etc., so I changed to some other linux application with ALT-TAB, back and forth, ...

c::b crashed. I ran c::b from gdb (which should be no problem) and therefore have a gdb log:

[quote]
-------------- Build: Debug in app-console ---------------
Target is up to date.
Nothing to be done.

[New Thread 1187605424 (LWP 8534)]
[Thread 1187605424 (zombie) exited]

(codeblocks:30709): GLib-WARNING **: gmain.c:1417: ref_count == 0, but source is still attached to a context!

(codeblocks:30709): GLib-WARNING **: Idle source dispatched without callback
You must call g_source_set_callback().
*** glibc detected *** double free or corruption (fasttop): 0x0c54daa0 ***

Program received signal SIGABRT, Aborted.
[Switching to Thread 1097883616 (LWP 30709)]
0xffffe410 in __kernel_vsyscall ()
(gdb) bt
#0  0xffffe410 in __kernel_vsyscall ()
#1  0x40c50541 in raise () from /lib/tls/libc.so.6
#2  0x40c51dbb in abort () from /lib/tls/libc.so.6
#3  0x40c868b5 in __libc_message () from /lib/tls/libc.so.6
#4  0x40c8c842 in malloc_printerr () from /lib/tls/libc.so.6
#5  0x40c8d1f4 in free () from /lib/tls/libc.so.6
#6  0x4140e5d2 in g_free () from /opt/gnome/lib/libglib-2.0.so.0
#7  0x41405c18 in g_source_new () from /opt/gnome/lib/libglib-2.0.so.0
#8  0x41406b50 in g_source_get_current_time () from /opt/gnome/lib/libglib-2.0.so.0
#9  0x414074bd in g_main_context_dispatch () from /opt/gnome/lib/libglib-2.0.so.0
#10 0x4140a7cb in g_main_context_check () from /opt/gnome/lib/libglib-2.0.so.0
#11 0x4140aae7 in g_main_loop_run () from /opt/gnome/lib/libglib-2.0.so.0
#12 0x40f0c861 in gtk_main () from /opt/gnome/lib/libgtk-x11-2.0.so.0
#13 0x40891c68 in wxEventLoop::Run () from /usr/lib/libwx_gtk2u_core-2.6.so.0
#14 0x409317a9 in wxAppBase::MainLoop () from /usr/lib/libwx_gtk2u_core-2.6.so.0
#15 0x409318a1 in wxAppBase::OnRun () from /usr/lib/libwx_gtk2u_core-2.6.so.0
#16 0x0806884e in CodeBlocksApp::OnRun (this=0x81275f8) at app.cpp:597
#17 0x40b2fc82 in wxEntry () from /usr/lib/libwx_baseu-2.6.so.0
#18 0x40b2fd36 in wxEntry () from /usr/lib/libwx_baseu-2.6.so.0
#19 0x080670a4 in main (argc=1, argv=0xbfb90794) at app.cpp:190
(gdb) 
[/quote]
</pre>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Application::Crash</dd>
            <dt>Group</dt><dd>&nbsp;</dd>
            <dt>Status</dt><dd>Open</dd>
            <dt>Close date</dt><dd>&nbsp;</dd>
            <dt>Assigned to</dt><dd>&nbsp;</dd>
          </dl>
        </div>
      </div>
      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">stardust 2007-02-27 12:48</div>
        <div class="panel-body">
          <p>svn ist 3635, not as stated above.</p>
          <p>In a new run of c::b (from console, not from within gdb) I get the error again:</p>
          <p>1) Set breakpoints in print and return lines</p>
          <p>2) Start debugging, Debugger stops at return-breakpoint</p>
          <p>3) Disabling the printf-breakpoint crashes c::b.</p>
          <p>Generation options and everything else is as generated by the plugin wizard.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">rickg22 2007-06-26 23:25</div>
        <div class="panel-body">
          <p>Does this bug still persist?</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
