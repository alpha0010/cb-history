<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Patch 3356 - Code::Blocks History</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../pygments.css">
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li class="active"><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Patch #3356 <small>2012-11-03 11:04</small></h3>
          <h4>mrexodia</h4>
          Fix: DLL Template + win32gui dialog template for manifests
          <dl class="dl-horizontal">
            <dt>Download</dt>
            <dd><a href="3356-Fix_DLL_Templa.patch">3356-Fix_DLL_Templa.patch</a> (6.0 KB)</dd>
          </dl>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Plugin::Refinement</dd>
            <dt>Status</dt><dd>Accepted</dd>
            <dt>Close date</dt><dd>2012-11-07 10:08 <a href="http://cb.biplab.in/websvn/log.php?sr=8523"><span class="glyphicon glyphicon-link"></span></a></dd>
            <dt>Assigned to</dt><dd>mortenmacfly</dd>
          </dl>
        </div>
      </div>
      <div class="highlight"><pre class="pre-scrollable"><span class="gh">Index: src/plugins/scriptedwizard/resources/dll/files/main.cpp</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/plugins/scriptedwizard/resources/dll/files/main.cpp    (revision 8500)</span>
<span class="gi">+++ src/plugins/scriptedwizard/resources/dll/files/main.cpp    (working copy)</span>
<span class="gu">@@ -6,7 +6,7 @@</span>
     MessageBoxA(0, sometext, &quot;DLL Message&quot;, MB_OK | MB_ICONINFORMATION);
 }
 
<span class="gd">-BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)</span>
<span class="gi">+extern &quot;C&quot; DLL_EXPORT BOOL APIENTRY DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)</span>
 {
     switch (fdwReason)
     {
<span class="gh">Index: src/plugins/scriptedwizard/resources/win32gui/files/dialog/main.cpp</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/plugins/scriptedwizard/resources/win32gui/files/dialog/main.cpp    (revision 8500)</span>
<span class="gi">+++ src/plugins/scriptedwizard/resources/win32gui/files/dialog/main.cpp    (working copy)</span>
<span class="gu">@@ -1,49 +1,40 @@</span>
<span class="gd">-#define WIN32_LEAN_AND_MEAN</span>
<span class="gd">-</span>
 #include &lt;windows.h&gt;
<span class="gd">-</span>
<span class="gi">+#include &lt;commctrl.h&gt;</span>
<span class="gi">+#include &lt;stdio.h&gt;</span>
 #include &quot;resource.h&quot;
 
 HINSTANCE hInst;
 
<span class="gd">-BOOL CALLBACK DialogProc(HWND hwndDlg, UINT uMsg, WPARAM wParam, LPARAM lParam)</span>
<span class="gi">+BOOL CALLBACK DlgMain(HWND hwndDlg, UINT uMsg, WPARAM wParam, LPARAM lParam)</span>
 {
     switch(uMsg)
     {
<span class="gd">-        case WM_INITDIALOG:</span>
<span class="gd">-            /*</span>
<span class="gd">-             * TODO: Add code to initialize the dialog.</span>
<span class="gd">-             */</span>
<span class="gd">-            return TRUE;</span>
<span class="gi">+    case WM_INITDIALOG:</span>
<span class="gi">+    {</span>
<span class="gi">+    }</span>
<span class="gi">+    return TRUE;</span>
 
<span class="gd">-        case WM_CLOSE:</span>
<span class="gd">-            EndDialog(hwndDlg, 0);</span>
<span class="gd">-            return TRUE;</span>
<span class="gi">+    case WM_CLOSE:</span>
<span class="gi">+    {</span>
<span class="gi">+        EndDialog(hwndDlg, 0);</span>
<span class="gi">+    }</span>
<span class="gi">+    return TRUE;</span>
 
<span class="gd">-        case WM_COMMAND:</span>
<span class="gd">-            switch(LOWORD(wParam))</span>
<span class="gd">-            {</span>
<span class="gd">-                /*</span>
<span class="gd">-                 * TODO: Add more control ID&#39;s, when needed.</span>
<span class="gd">-                 */</span>
<span class="gd">-                case IDC_BTN_QUIT:</span>
<span class="gd">-                    EndDialog(hwndDlg, 0);</span>
<span class="gd">-                    return TRUE;</span>
<span class="gd">-</span>
<span class="gd">-                case IDC_BTN_TEST:</span>
<span class="gd">-                    MessageBox(hwndDlg, &quot;You clicked \&quot;Test\&quot; button!&quot;, &quot;Information&quot;, MB_ICONINFORMATION);</span>
<span class="gd">-                    return TRUE;</span>
<span class="gd">-            }</span>
<span class="gi">+    case WM_COMMAND:</span>
<span class="gi">+    {</span>
<span class="gi">+        switch(LOWORD(wParam))</span>
<span class="gi">+        {</span>
<span class="gi">+        }</span>
     }
<span class="gd">-</span>
<span class="gi">+    return TRUE;</span>
<span class="gi">+    }</span>
     return FALSE;
 }
 
 
 int APIENTRY WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
 {
<span class="gd">-    hInst = hInstance;</span>
<span class="gd">-</span>
<span class="gd">-    // The user interface is a modal dialog box</span>
<span class="gd">-    return DialogBox(hInstance, MAKEINTRESOURCE(DLG_MAIN), NULL, (DLGPROC)DialogProc);</span>
<span class="gd">-}</span>
<span class="gi">+    hInst=hInstance;</span>
<span class="gi">+    InitCommonControls();</span>
<span class="gi">+    return DialogBox(hInst, MAKEINTRESOURCE(DLG_MAIN), NULL, (DLGPROC)DlgMain);</span>
<span class="gi">+}</span>
\ No newline at end of file
<span class="gh">Index: src/plugins/scriptedwizard/resources/win32gui/files/dialog/manifest.xml</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/plugins/scriptedwizard/resources/win32gui/files/dialog/manifest.xml    (revision 0)</span>
<span class="gi">+++ src/plugins/scriptedwizard/resources/win32gui/files/dialog/manifest.xml    (working copy)</span>
<span class="gu">@@ -0,0 +1,17 @@</span>
<span class="gi">+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="gi">+&lt;assembly xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot; manifestVersion=&quot;1.0&quot;&gt;</span>
<span class="gi">+  &lt;dependency&gt;</span>
<span class="gi">+    &lt;dependentAssembly&gt;</span>
<span class="gi">+      &lt;assemblyIdentity type=&quot;win32&quot; name=&quot;Microsoft.Windows.Common-Controls&quot; version=&quot;6.0.0.0&quot; processorArchitecture=&quot;*&quot; publicKeyToken=&quot;6595b64144ccf1df&quot; language=&quot;*&quot;/&gt;</span>
<span class="gi">+    &lt;/dependentAssembly&gt;</span>
<span class="gi">+  &lt;/dependency&gt;</span>
<span class="gi">+  &lt;trustInfo xmlns=&quot;urn:schemas-microsoft-com:asm.v3&quot;&gt;</span>
<span class="gi">+    &lt;security&gt;</span>
<span class="gi">+      &lt;requestedPrivileges&gt;</span>
<span class="gi">+        &lt;requestedExecutionLevel</span>
<span class="gi">+          level=&quot;asInvoker&quot;</span>
<span class="gi">+          uiAccess=&quot;false&quot;/&gt;</span>
<span class="gi">+      &lt;/requestedPrivileges&gt;</span>
<span class="gi">+    &lt;/security&gt;</span>
<span class="gi">+  &lt;/trustInfo&gt;</span>
<span class="gi">+&lt;/assembly&gt;</span>
\ No newline at end of file
<span class="gh">Index: src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.h</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.h    (revision 8500)</span>
<span class="gi">+++ src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.h    (working copy)</span>
<span class="gu">@@ -1,8 +1,5 @@</span>
<span class="gd">-#include &lt;windows.h&gt;</span>
<span class="gi">+#ifndef IDC_STATIC</span>
<span class="gi">+#define IDC_STATIC (-1)</span>
<span class="gi">+#endif</span>
 
<span class="gd">-// ID of Main Dialog</span>
<span class="gd">-#define DLG_MAIN 101</span>
<span class="gd">-</span>
<span class="gd">-// ID of Button Controls</span>
<span class="gd">-#define IDC_BTN_TEST 1001</span>
<span class="gd">-#define IDC_BTN_QUIT 1002</span>
<span class="gi">+#define DLG_MAIN                                100</span>
<span class="gh">Index: src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.rc</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.rc    (revision 8500)</span>
<span class="gi">+++ src/plugins/scriptedwizard/resources/win32gui/files/dialog/resource.rc    (working copy)</span>
<span class="gu">@@ -1,14 +1,30 @@</span>
<span class="gi">+// Generated by ResEdit 1.5.10</span>
<span class="gi">+// Copyright (C) 2006-2012</span>
<span class="gi">+// http://www.resedit.net</span>
<span class="gi">+</span>
<span class="gi">+#include &lt;windows.h&gt;</span>
<span class="gi">+#include &lt;commctrl.h&gt;</span>
<span class="gi">+#include &lt;richedit.h&gt;</span>
 #include &quot;resource.h&quot;
 
<span class="gd">-DLG_MAIN DIALOGEX 6, 5, 194, 106</span>
 
<span class="gd">-CAPTION &quot;Code::Blocks Template Dialog App&quot;</span>
 
<span class="gd">-FONT 8, &quot;Tahoma&quot;</span>
 
<span class="gd">-STYLE 0x10CE0804</span>
<span class="gi">+/</span>
<em><strong>download for full patch...</strong></em>
</pre></div>

      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">mrexodia 2012-11-03 11:09</div>
        <div class="panel-body">
          <p>Forgot to patch wizard.script for adding the needed import libraries</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
