<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Patch 3124 - Code::Blocks History</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="../pygments.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li class="active"><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Patch #3124 <small>2011-02-01 22:37:39</small></h3>
          <h4>olipfei</h4>
          Display end-of-line mode in status bar
          <dl class="dl-horizontal">
            <dt>Download</dt>
            <dd><a href="3124-Display_end_of.patch">3124-Display_end_of.patch</a></dd>
          </dl>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Application::Refinement</dd>
            <dt>Status</dt><dd>Accepted</dd>
            <dt>Close date</dt><dd>2012-12-24 07:11:07 <a href="http://cb.biplab.in/websvn/log.php?sr=8707"><span class="glyphicon glyphicon-link"></span></a></dd>
            <dt>Assigned to</dt><dd>mortenmacfly</dd>
          </dl>
        </div>
      </div>
      <div class="highlight"><pre class="pre-scrollable"><span class="gh">Index: src/src/main.cpp</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/src/main.cpp    (Revision 6943)</span>
<span class="gi">+++ src/src/main.cpp    (Arbeitskopie)</span>
<span class="gu">@@ -1715,11 +1715,12 @@</span>
 
     width[num++] = -1; // main field
 //    width[num++] = 128; // progress bar
<span class="gi">+    dc.GetTextExtent(_(&quot; Windows (CR &amp; LF) &quot;),      &amp;width[num++], &amp;h);</span>
     dc.GetTextExtent(_(&quot; WINDOWS-1252 &quot;),           &amp;width[num++], &amp;h);
     dc.GetTextExtent(_(&quot; Line 12345, Column 123 &quot;), &amp;width[num++], &amp;h);
     dc.GetTextExtent(_(&quot; Overwrite &quot;),              &amp;width[num++], &amp;h);
     dc.GetTextExtent(_(&quot; Modified &quot;),               &amp;width[num++], &amp;h);
<span class="gd">-    dc.GetTextExtent(_(&quot; Read/Write.....&quot;),         &amp;width[num++], &amp;h);</span>
<span class="gi">+    dc.GetTextExtent(_(&quot; Read/Write &quot;),             &amp;width[num++], &amp;h);</span>
     dc.GetTextExtent(_(&quot; name_of_profile &quot;),        &amp;width[num++], &amp;h);
 
     CreateStatusBar(num);
<span class="gu">@@ -1742,9 +1743,17 @@</span>
         int panel = 0;
         int pos = ed-&gt;GetControl()-&gt;GetCurrentPos();
         wxString msg;
<span class="gd">-        msg.Printf(_(&quot;Line %d, Column %d&quot;), ed-&gt;GetControl()-&gt;GetCurrentLine() + 1, ed-&gt;GetControl()-&gt;GetColumn(pos) + 1);</span>
         SetStatusText(ed-&gt;GetFilename(), panel++);
<span class="gi">+        switch (ed-&gt;GetControl()-&gt;GetEOLMode())</span>
<span class="gi">+        {</span>
<span class="gi">+            case wxSCI_EOL_CRLF: msg = _T(&quot;Windows (CR &amp; LF)&quot;); break;</span>
<span class="gi">+            case wxSCI_EOL_CR: msg = _T(&quot;Unix (CR)&quot;); break;</span>
<span class="gi">+            case wxSCI_EOL_LF: msg = _T(&quot;Mac (LF)&quot;); break;</span>
<span class="gi">+            default: break;</span>
<span class="gi">+        }</span>
<span class="gi">+        SetStatusText(msg, panel++);</span>
         SetStatusText(ed-&gt;GetEncodingName(), panel++);
<span class="gi">+        msg.Printf(_(&quot;Line %d, Column %d&quot;), ed-&gt;GetControl()-&gt;GetCurrentLine() + 1, ed-&gt;GetControl()-&gt;GetColumn(pos) + 1);</span>
         SetStatusText(msg, panel++);
         SetStatusText(ed-&gt;GetControl()-&gt;GetOvertype() ? _(&quot;Overwrite&quot;) : _(&quot;Insert&quot;), panel++);
         #if wxCHECK_VERSION(2, 9, 0)
<span class="gu">@@ -1768,6 +1777,7 @@</span>
         SetStatusText(wxEmptyString, panel++);
         SetStatusText(wxEmptyString, panel++);
         SetStatusText(wxEmptyString, panel++);
<span class="gi">+        SetStatusText(wxEmptyString, panel++);</span>
         SetStatusText(personality, panel++);
     }
 #endif // wxUSE_STATUSBAR
<span class="gh">Index: src/src/resources/main_menu.xrc</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/src/resources/main_menu.xrc    (Revision 6943)</span>
<span class="gi">+++ src/src/resources/main_menu.xrc    (Arbeitskopie)</span>
<span class="gu">@@ -257,17 +257,17 @@</span>
       &lt;object class=&quot;wxMenu&quot; name=&quot;idEditEOLMode&quot;&gt;
         &lt;label&gt;&amp;amp;End-of-line mode&lt;/label&gt;
         &lt;object class=&quot;wxMenuItem&quot; name=&quot;idEditEOLCRLF&quot;&gt;
<span class="gd">-          &lt;label&gt;CR &amp;amp;&amp;amp; LF&lt;/label&gt;</span>
<span class="gi">+          &lt;label&gt;Windows (CR &amp;amp;&amp;amp; LF)&lt;/label&gt;</span>
           &lt;help&gt;End-of-line mode uses carriage return and line feed&lt;/help&gt;
           &lt;radio&gt;1&lt;/radio&gt;
         &lt;/object&gt;
         &lt;object class=&quot;wxMenuItem&quot; name=&quot;idEditEOLCR&quot;&gt;
<span class="gd">-          &lt;label&gt;CR&lt;/label&gt;</span>
<span class="gi">+          &lt;label&gt;Unix (CR)&lt;/label&gt;</span>
           &lt;help&gt;End-of-line mode uses carriage return only&lt;/help&gt;
           &lt;radio&gt;1&lt;/radio&gt;
         &lt;/object&gt;
         &lt;object class=&quot;wxMenuItem&quot; name=&quot;idEditEOLLF&quot;&gt;
<span class="gd">-          &lt;label&gt;LF&lt;/label&gt;</span>
<span class="gi">+          &lt;label&gt;Mac (LF)&lt;/label&gt;</span>
           &lt;help&gt;End-of-line mode uses line feed only&lt;/help&gt;
           &lt;radio&gt;1&lt;/radio&gt;
         &lt;/object&gt;
</pre></div>

      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">olipfei 2011-02-01 22:38:37</div>
        <div class="panel-body">
          <p>Just a small refinement - this patch inserts an additional field into the status bar displaying the current file's end-of-line mode. I know the status bar is rather crowded, but the filename is shown in the title bar/notebook tabs anyway, and if the encoding is displayed, the end-of-line mode should not be left out. Having this information at first sight and not after awkwardly manouvering through the menu greatly speeded up my efforts to identify EOL inconsistencies in my cross-platform code.</p>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>