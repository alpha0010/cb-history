<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Patch 1855 - Code::Blocks History</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li class="active"><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Patch #1855 <small>2007-01-25 15:16</small></h3>
          <h4>domen</h4>
          initialisation of variable on debugging start
          <dl class="dl-horizontal">
            <dt>Download</dt>
            <dd><a href="1855-initialisation.patch">1855-initialisation.patch</a> (401 bytes)</dd>
          </dl>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Plugin::Bugfix</dd>
            <dt>Status</dt><dd>Deleted</dd>
            <dt>Close date</dt><dd>2008-02-02 12:10 <a href="http://cb.biplab.in/websvn/log.php?sr=4857"><span class="glyphicon glyphicon-link"></span></a></dd>
            <dt>Assigned to</dt><dd>mandrav</dd>
          </dl>
        </div>
      </div>
      <div class="highlight"><pre class="pre-scrollable"><span class="gd">--- src/plugins/debuggergdb/gdb_driver.cpp    2007-01-25 16:11:54.000000000 +0100</span>
<span class="gi">+++ src/plugins/debuggergdb/gdb_driver.cpp    2007-01-25 16:15:38.000000000 +0100</span>
<span class="gu">@@ -375,7 +375,7 @@</span>
     }
 #else
     m_BreakOnEntry = breakOnEntry;
<span class="gd">-    m_ManualBreakOnEntry = true;</span>
<span class="gi">+    m_ManualBreakOnEntry = false;</span>
 
     if (!Manager::Get()-&gt;GetConfigManager(_T(&quot;debugger&quot;))-&gt;ReadBool(_T(&quot;do_not_run&quot;), false))
     {
</pre></div>

      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">mandrav 2007-04-12 10:20</div>
        <div class="panel-body">
          <p>What is the reason for changing this variable's initial value? Is it too much to ask for a description?</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">domen 2007-04-12 12:36</div>
        <div class="panel-body">
          <p>Sorry complitely forgot to comment.</p>
          <p>Without this wariable changed the program starts running automaticaly (even with don't start running the program or something like that set in debugging options) and stops at the first breakpoint for e.g. at the beginning of main function. This prevents us from debugging the part before main function - that part of code starts running on the start vector initialises some stuff and jumps to main function.</p>
          <p>This change enables the debugger to wait on the reset vector untill you tell him to start running.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">mandrav 2007-04-12 13:12</div>
        <div class="panel-body">
          <p>OK, I think you got something wrong.</p>
          <p>m_ManualBreakOnEntry is an internal variable used by the driver to know if it was itself that caused the first breakpoint to hit. This is done so the driver can gather info about the program and then continue running it as normal (hitting any user breakpoints, etc).</p>
          <p>With this patch this behavior breaks...</p>
          <p>Have you tried starting the debugger using the "step into" command?</p>
          <p>If this doesn't work as you expect, we should maybe look at adding a new command in the "Debug menu" to start debugging the way you want it to work.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">domen 2007-04-12 15:28</div>
        <div class="panel-body">
          <p>When I wrote this patch I debugged C::B and came to this part of code and found out that it crushes because of this. Then I have seen that with a version of C::B that hasn't been patched with a patch that switched the parts which of those codes is used in Linux and which in Windows (those defines in the src), it doesn't crush. So I have changed the variable to the way it was written in the Windows(before Linux) section and it worked again.</p>
          <p>Unfortunately I don't work for the company that wanted this anymore so I don't have access to the hardvare.</p>
          <p>Since this patch breaks C::B and that company can still apply the patch whenever they want, I think that it should be deleted.</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
