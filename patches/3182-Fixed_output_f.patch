Index: compiletargetbase.cpp
===================================================================
--- compiletargetbase.cpp	(revision 7281)
+++ compiletargetbase.cpp	(working copy)
@@ -239,6 +239,14 @@
         return;
 
     wxFileName fname(filename);
+
+    // extension is part of file name
+    if (m_ExtensionGenerationPolicy != tgfpNone)
+    {
+      fname.SetName(fname.GetFullName());
+      fname.ClearExt();
+    }
+
     filename.Clear();
     // path with volume and separator
     filename << fname.GetPath(wxPATH_GET_VOLUME | wxPATH_GET_SEPARATOR);
