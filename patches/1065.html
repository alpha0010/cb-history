<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Patch 1065 - Code::Blocks History</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  </head>
  <body role="document">
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.codeblocks.org/">Code::Blocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="../bugs.html">Bugs</a></li>
            <li><a href="../features.html">Features</a></li>
            <li class="active"><a href="../patches.html">Patches</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container" role="main">
      <div class="row">
        <div class="col-sm-8">
          <h3>Patch #1065 <small>2006-05-22 14:26</small></h3>
          <h4>sethjackson</h4>
          Margin width
          <dl class="dl-horizontal">
            <dt>Download</dt>
            <dd><a href="1065-Margin_width.patch">1065-Margin_width.patch</a> (2.7 KB)</dd>
          </dl>
        </div>
        <div class="col-sm-4">
          <dl class="dl-horizontal">
            <dt>Category</dt><dd>Application::FeatureAdd</dd>
            <dt>Status</dt><dd>Accepted</dd>
            <dt>Close date</dt><dd>2006-05-22 18:12 <a href="http://cb.biplab.in/websvn/log.php?sr=2487"><span class="glyphicon glyphicon-link"></span></a></dd>
            <dt>Assigned to</dt><dd>&nbsp;</dd>
          </dl>
        </div>
      </div>
      <div class="highlight"><pre class="pre-scrollable"><span class="gh">Index: src/sdk/cbeditor.cpp</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/sdk/cbeditor.cpp    (revision 2483)</span>
<span class="gi">+++ src/sdk/cbeditor.cpp    (working copy)</span>
<span class="gu">@@ -579,7 +579,8 @@</span>
     // line numbering
     m_pControl-&gt;SetMarginType(0, wxSCI_MARGIN_NUMBER);
        if (mgr-&gt;ReadBool(_T(&quot;/show_line_numbers&quot;), true))
<span class="gd">-        m_pControl-&gt;SetMarginWidth(0, 48);</span>
<span class="gi">+        m_pControl-&gt;SetMarginWidth(0, mgr-&gt;ReadInt(_T(&quot;/margin/width&quot;), 48));</span>
<span class="gi">+</span>
     else
         m_pControl-&gt;SetMarginWidth(0, 0);
 
<span class="gh">Index: src/sdk/editorconfigurationdlg.cpp</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/sdk/editorconfigurationdlg.cpp    (revision 2483)</span>
<span class="gi">+++ src/sdk/editorconfigurationdlg.cpp    (working copy)</span>
<span class="gu">@@ -161,6 +161,9 @@</span>
     XRCCTRL(*this, &quot;btnGutterColour&quot;, wxButton)-&gt;SetBackgroundColour(gutterColour);
     XRCCTRL(*this, &quot;spnGutterColumn&quot;, wxSpinCtrl)-&gt;SetValue(cfg-&gt;ReadInt(_T(&quot;/gutter/column&quot;), 80));
 
<span class="gi">+    //margin</span>
<span class="gi">+    XRCCTRL(*this, &quot;spnMarginWidth&quot;, wxSpinCtrl)-&gt;SetValue(cfg-&gt;ReadInt(_T(&quot;/margin/width&quot;), 48));</span>
<span class="gi">+</span>
     // colour set
     LoadThemes();
 
<span class="gu">@@ -843,6 +846,9 @@</span>
         cfg-&gt;Write(_T(&quot;/gutter/colour&quot;),            XRCCTRL(*this, &quot;btnGutterColour&quot;, wxButton)-&gt;GetBackgroundColour());
         cfg-&gt;Write(_T(&quot;/gutter/column&quot;),         XRCCTRL(*this, &quot;spnGutterColumn&quot;, wxSpinCtrl)-&gt;GetValue());
 
<span class="gi">+        //margin</span>
<span class="gi">+        cfg-&gt;Write(_T(&quot;/margin/width&quot;), XRCCTRL(*this, &quot;spnMarginWidth&quot;, wxSpinCtrl)-&gt;GetValue());</span>
<span class="gi">+</span>
         // default code : first update what&#39;s in the current txtCtrl,
         // and then write them all to the config file (even if unmodified)
         int sel = XRCCTRL(*this, &quot;cmbDefCodeFileType&quot;, wxComboBox)-&gt;GetSelection();
<span class="gh">Index: src/sdk/resources/editor_configuration.xrc</span>
<span class="gh">===================================================================</span>
<span class="gd">--- src/sdk/resources/editor_configuration.xrc    (revision 2483)</span>
<span class="gi">+++ src/sdk/resources/editor_configuration.xrc    (working copy)</span>
<span class="gu">@@ -473,6 +473,18 @@</span>
                             &lt;value&gt;80&lt;/value&gt;
                           &lt;/object&gt;
                         &lt;/object&gt;
<span class="gi">+                        &lt;object class=&quot;sizeritem&quot;&gt;</span>
<span class="gi">+                          &lt;flag&gt;wxALIGN_LEFT|wxALIGN_CENTER_VERTICAL&lt;/flag&gt;</span>
<span class="gi">+                          &lt;object class=&quot;wxStaticText&quot;&gt;</span>
<span class="gi">+                            &lt;label&gt;Width:&lt;/label&gt;</span>
<span class="gi">+                          &lt;/object&gt;</span>
<span class="gi">+                        &lt;/object&gt;</span>
<span class="gi">+                        &lt;object class=&quot;sizeritem&quot;&gt;</span>
<span class="gi">+                          &lt;flag&gt;wxALIGN_LEFT|wxALIGN_TOP&lt;/flag&gt;</span>
<span class="gi">+                          &lt;object class=&quot;wxSpinCtrl&quot; name=&quot;spnMarginWidth&quot;&gt;</span>
<span class="gi">+                            &lt;value&gt;48&lt;/value&gt;</span>
<span class="gi">+                          &lt;/object&gt;</span>
<span class="gi">+                        &lt;/object&gt;</span>
                       &lt;/object&gt;
                     &lt;/object&gt;
                   &lt;/object&gt;
</pre></div>

      <h4 class="page-header">History</h4>
      <div class="panel panel-default">
        <div class="panel-heading">sethjackson 2006-05-22 14:27</div>
        <div class="panel-body">
          <p>This patch lets the user set the margin width of the line numbers. Default is 48 pixels.</p>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">thomasdenk 2006-05-22 18:12</div>
        <div class="panel-body">
          <p>Although I still think this feature is a Takeshi, your implementation looks fine. :)</p>
          <p>Committed as rev. 2485.</p>
          <p>Rearranged the controls a bit, and renamed "gutter" to "right margin hint" according to the late forum thread, as the whole thing was misleading alltogether.</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
